{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "NetSuite Invoice JSON Schema",
  "description": "This JSON Schema represents the Invoice object payload that will be passed to NetSuite from Acumatica.",
  "id": "/Batch",
  "type": "object",
  "properties": {
    "invProcessedAmt": {
      "title": "Invoice Processed Amount",
      "description": "The total currency amount of Invoices to processed.",
      "type": "number"
    },
    "invProcessedCount": {
      "title": "Invoice Processed Amount",
      "description": "The total quantities Invoices to processed.",
      "type": "number"
    },
    "cmProcessedAmt": {
      "title": "Credit Memo Processed Amount",
      "description": "The total currency amount of Credit Memos to be processed.",
      "type": "number"
    },
    "cmProcessedCount": {
      "title": "Credit Memo Processed Amount",
      "description": "The total currency amount of Credit Memos to be processed.",
      "type": "number"
    },
    "correlationid": {
      "type": "string"
    },
    "data": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "/Transaction#"
      }
    },
    "Documents": {
      "title": "Document List",
      "description": "This is list of remotely stored electronic documents related to Invoices and Credit Memos. ",
      "type": "array",
      "minItems": 1,
      "maxItems": 3,
      "uniqueItems": true,
      "items": [
        {
          "title": "Documents",
          "description": "This is an object that contains properties related to Invoice and Credit Memo documents stored remotely.",
          "type": "object",
          "properties": {
            "fileName": {
              "title": "File Name",
              "description": "This is the name of the Invoice or Credit Memo file.",
              "type": "string"
            },
            "fileId": {
              "title": "File Id",
              "description": "This is the GUID of the file.",
              "type": "string"
            },
            "docType": {
              "title": "Doc Type",
              "description": "This is the electronic document type.",
              "type": "string",
              "enum": [
                "Summary",
                "Detail"
              ]
            }
          },
          "required": [
            "fileName",
            "fileId",
            "docType"
          ]
        }
      ],
      "additionalItems": false
    }
  },
  "required": [
    "invProcessedAmt",
    "invProcessedCount",
    "cmProcessedAmt",
    "cmProcessedCount",
    "correlationId",
    "data"
  ],
  "definitions": {
    "transaction": {
      "id": "/Transaction",
      "type": "object",
      "properties": {
        "trantype": {
          "title": "Transaction Type",
          "description": "This is the Type of Transaction being sent from Acumatica.",
          "type": "string",
          "enum": [
            "Invoice",
            "Credit Memo"
          ]
        },
        "custbody_acumatica_batch_id": {
          "title": "Acumatica Batch Number",
          "description": "This is the Invoice Batch Id assigned by Acumatica.",
          "type": "string"
        },
        "tranid": {
          "title": "Transaction Number",
          "description": "This is the Invoice or Credit Memo Id passed from Acumatica.",
          "type": "string"
        },
        "entitiy": {
          "title": "Customer",
          "description": "This is the Customer related to the Invoice or Credit Memo.",
          "type": "string"
        },
        "trandate": {
          "title": "Date",
          "description": "This is the date of the Invoice.",
          "type": "string"
        },
        "refNum": {
          "title": "Ref No.",
          "description": "This applies to Credit Memos only -- it is a reference to the Invoice to which the Credit Memo is applied to.",
          "type": "string"
        },
        "memo": {
          "title": "Memo",
          "type": "string"
        },
        "items": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "/Line#"
          }
        }
      },
      "required": [
        "trantype",
        "custbody_acumatica_batch_id",
        "tranid",
        "entitiy",
        "trandate",
        "memo",
        "items",
        "Documents"
      ],
      "definitions": {
        "line": {
          "id": "/Line",
          "title": "Invoice or Credit Memo Line Items",
          "description": "This is an object that contains properties related to Invoice and Credit Memo line items.",
          "type": "object",
          "properties": {
            "item": {
              "title": "Product Id",
              "description": "This is the Item Name (not the Id) of each Invoice line",
              "type": "string"
            },
            "quantity": {
              "title": "Units",
              "description": "This is the Quantity of Items on each Invoice line.",
              "type": "integer"
            },
            "rate": {
              "title": "Unit Price",
              "description": "This is the Unit Price of the Item on each Invoice line.",
              "type": "number"
            },
            "amount": {
              "title": "Amount",
              "description": "This is the amount of eachthe Item on each Invoice line.",
              "type": "number"
            },
            "istaxable": {
              "title": "Taxable",
              "description": "This boolean field scpecifies whether taxes will be applied to an Invoice line.",
              "type": "boolean"
            },
            "taxcode": {
              "title": "Tax Code",
              "type": "string"
            },
            "taxrate1": {
              "title": "Tax Rate",
              "description": "This is the tax percentage of each Invoice line.",
              "type": "number"
            }
          },
          "required": [
            "item",
            "quantity",
            "rate",
            "amount",
            "istaxable",
            "taxcode",
            "taxrate1"
          ]
        }

      }

    }
  }
}
